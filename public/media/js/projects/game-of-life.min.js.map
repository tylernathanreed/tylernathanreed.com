{"version":3,"sources":["game-of-life.js"],"names":[],"mappings":"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","file":"game-of-life.min.js","sourcesContent":["var ReactCell;\r\n\r\nfunction Canvas(options) {\r\n\tvar self = this;\r\n\r\n\tthis.element = options.element;\r\n\tthis.context = options.element.getContext('2d');\r\n\tthis.click = $(options.element).click(function(event) {\r\n\t\toptions.onClick({\r\n\t\t\tx: event.offsetX,\r\n\t\t\ty: event.offsetY,\r\n\t\t\tshift: event.shiftKey,\r\n\t\t\talt: event.altKey,\r\n\t\t\tctrl: event.ctrlKey,\r\n\t\t\tmeta: event.metaKey\r\n\t\t});\r\n\t});\r\n\r\n\tthis.setStyle = function(style) {\r\n\t\tthis.context.fillStyle = style;\r\n\t};\r\n\r\n\tthis.drawRectangle = function(x1, y1, x2, y2) {\r\n\t\tthis.context.fillRect(x1, y1, x2, y2);\r\n\t};\r\n}\r\n\r\nfunction Cell(options) {\r\n\tvar self = this;\r\n\r\n\tthis.x = options.x;\r\n\tthis.y = options.y;\r\n\r\n\tif(options.status !== undefined)\r\n\t{\r\n\t\tthis.alive = options.status.startsWith(\"alive\");\r\n\t\tthis.old = options.status.endsWith(\"old\");\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.alive = options.alive;\r\n\t\tthis.old = options.old;\r\n\t}\r\n\r\n\tthis.getStatus = function() {\r\n\t\treturn this.alive ? (\"alive\" + (this.old ? \" old\" : \"\")) : \"dead\";\r\n\t};\r\n\r\n\tthis.survive = function() {\r\n\t\tthis.alive = true;\r\n\t\tthis.old = true;\r\n\t};\r\n\r\n\tthis.kill = function() {\r\n\t\tthis.alive = false;\r\n\t\tthis.old = undefined;\r\n\t};\r\n\r\n\tthis.revive = function() {\r\n\t\tthis.alive = true;\r\n\t\tthis.old = false;\r\n\t};\r\n\r\n\tthis.toggle = function() {\r\n\t\tthis.alive = !this.alive;\r\n\t\tthis.old = false;\r\n\t};\r\n\r\n\tthis.onClick = function() {\r\n\t\tthis.toggle();\r\n\t};\r\n\r\n\tthis.getStyle = function() {\r\n\t\tif(this.alive && this.old)\r\n\t\t\treturn \"#CC0\";\r\n\t\telse if(this.alive)\r\n\t\t\treturn \"#FF0\";\r\n\t\telse\r\n\t\t\treturn \"#666\";\r\n\t};\r\n\r\n\tthis.draw = function(canvas, size) {\r\n\t\t// Draw the Border\r\n\t\tcanvas.setStyle(\"#888\");\r\n\t\tcanvas.drawRectangle(this.x * size, this.y * size, size, size);\r\n\r\n\t\t// Draw the Fill\r\n\t\tcanvas.setStyle(this.getStyle());\r\n\t\tcanvas.drawRectangle(this.x * size + 1, this.y * size + 1, size - 1, size - 1);\r\n\t};\r\n}\r\n\r\nfunction Board(options) {\r\n\tvar self = this;\r\n\r\n\tthis.generation = 0;\r\n\tthis.cells = [];\r\n\r\n\tthis.width = options.width;\r\n\tthis.height = options.height;\r\n\r\n\tthis.cell_size = options.size;\r\n\r\n\tthis.running = false;\r\n\tthis.delay = 25;\r\n\r\n\tthis.canvas = new Canvas({\r\n\t\telement: options.canvas,\r\n\t\tonClick: function(e) {\r\n\t\t\tvar x = Math.floor(e.x / self.cell_size);\r\n\t\t\tvar y = Math.floor(e.y / self.cell_size);\r\n\r\n\t\t\tself.getCell(x, y).onClick(e);\r\n\r\n\t\t\tself.draw();\r\n\t\t}\r\n\t});\r\n\r\n\tthis.clear = function() {\r\n\t\tthis.generation = 0;\r\n\t\t$(\"#game-of-life .counter\").text(\"Generation: 0\");\r\n\r\n\t\treturn this.forEach(function(cell) {\r\n\t\t\tcell.kill();\r\n\t\t});\r\n\t};\r\n\r\n\tthis.initialize = function() {\r\n\t\tthis.cells = [];\r\n\r\n\t\tfor(var i = 0; i < this.width; i++)\r\n\t\t{\r\n\t\t\tthis.cells[i] = [];\r\n\r\n\t\t\tfor(var j = 0; j < this.height; j++)\r\n\t\t\t\tthis.cells[i][j] = new Cell({\r\n\t\t\t\t\tx: i,\r\n\t\t\t\t\ty: j,\r\n\t\t\t\t\talive: Math.round(Math.random())\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.cells;\r\n\t};\r\n\r\n\tthis.getCell = function(i, j) {\r\n\t\t// Wrap the Indices\r\n\t\ti = (i + this.width) % this.width;\r\n\t\tj = (j + this.height) % this.height;\r\n\r\n\t\t// Determine the specified Cell\r\n\t\tvar cell = this.cells[i][j];\r\n\r\n\t\t// Alert if Undefined\r\n\t\tif(cell === undefined)\r\n\t\t\tconsole.log('[Error] Board - getCell: Undefined Cell Position at [' + i + ', ' + j + ']');\r\n\r\n\t\t// The Cell Must be Alive, or Alive and Old\r\n\t\treturn cell;\r\n\t};\r\n\r\n\tthis.forEach = function(callback) {\r\n\t\tthis.cells.forEach(function(row, i) {\r\n\t\t\trow.forEach(function(cell, j) {\r\n\t\t\t\tcallback(cell);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tthis.draw = function() {\r\n\t\tthis.forEach(function(cell) {\r\n\t\t\tcell.draw(self.canvas, self.cell_size);\r\n\t\t});\r\n\r\n\t\t$(\"#game-of-life .counter\").text('Generation: ' + self.generation);\r\n\t\t// $(\"#game-of-life .population\").text('Population: ' + self.population);\r\n\t};\r\n\r\n\tthis.construct = function() {\r\n\t\tthis.initialize();\r\n\t\tthis.draw();\r\n\t};\r\n\r\n\tthis.getNeighborCount = function(cell) {\r\n\t\t// Initialize the Neighbor Count\r\n\t\tvar count = 0;\r\n\r\n\t\t// Check each Neighbor\r\n\t\tfor(var i = -1; i <= 1; i++)\r\n\t\t\tfor(var j = -1; j <= 1; j++)\r\n\t\t\t\tif(i === 0 && j === 0)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse if(this.getCell(cell.x + i, cell.y + j).alive)\r\n\t\t\t\t\tcount++;\r\n\r\n\t\treturn count;\r\n\t};\r\n\r\n\tthis.getNextGeneration = function() {\r\n\t\tvar neighbors = [];\r\n\r\n\t\tthis.forEach(function(cell) {\r\n\t\t\tneighbors[cell.x * self.cell_size + cell.y] = self.getNeighborCount(cell);\r\n\t\t});\r\n\r\n\t\tthis.forEach(function(cell) {\r\n\t\t\tvar count = neighbors[cell.x * self.cell_size + cell.y];\r\n\r\n\t\t\tif(cell.alive && (count === 2 || count === 3))\r\n\t\t\t\tcell.survive();\r\n\t\t\telse if(!cell.alive && count === 3)\r\n\t\t\t\tcell.revive();\r\n\t\t\telse if(cell.alive)\r\n\t\t\t\tcell.kill();\r\n\t\t});\r\n\t};\r\n\r\n\tthis.run = function() {\r\n\t\tif(!this.running)\r\n\t\t\treturn;\r\n\r\n\t\tself.generation++;\r\n\t\tself.getNextGeneration();\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tself.draw();\r\n\t\t\tself.run();\r\n\t\t}, self.delay);\r\n\t};\r\n\r\n\tthis.start = function() {\r\n\t\tthis.running = true;\r\n\t\tthis.run();\r\n\t\tthis.generation = 0;\r\n\t};\r\n\r\n\tthis.pause = function() {\r\n\t\tthis.running = false;\r\n\t};\r\n\r\n\tthis.resume = function() {\r\n\t\tthis.running = true;\r\n\t\tthis.run();\r\n\t};\r\n\r\n\tthis.stop = function() {\r\n\t\tthis.running = false;\r\n\t\tthis.generation = 0;\r\n\t};\r\n\r\n\tthis.activate = function() {\r\n\t\t$('.btn-run').click(function() {\r\n\t\t\tif(self.running)\r\n\t\t\t{\r\n\t\t\t\t$(this).children().switchClass('glyphicon-play', 'glyphicon-pause');\r\n\t\t\t\tself.pause();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$(this).children().switchClass('glyphicon-pause', 'glyphicon-play');\r\n\t\t\t\tself.resume();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.btn-clear').click(function() {\r\n\t\t\tself.clear();\r\n\t\t\tself.stop();\r\n\t\t\tself.draw();\r\n\t\t});\r\n\r\n\t\t$('.btn-refresh').click(function() {\r\n\t\t\tself.initialize();\r\n\t\t\tself.stop();\r\n\t\t\tself.draw();\r\n\t\t});\r\n\t};\r\n\r\n\tthis.construct();\r\n\tthis.activate();\r\n\tthis.running = true;\r\n\tthis.run();\r\n}\r\n\r\n$(document).ready(function() {\r\n\t// Prepare all Canvases\r\n\t$('canvas').each(function() {\r\n\t\tthis.width = $(this).parent().width();\r\n\t\tthis.height = $(this).parent().height();\r\n\t});\r\n\r\n\t// Clear out Text Fields\r\n\t$(\".gen\").text(\"0\");\r\n\t$(\".population\").text(\"0\");\r\n\r\n\t// Determine the Game Canvas\r\n\tvar canvas = $('#game canvas')[0];\r\n\r\n\t// Create the Board\r\n\twindow['board'] = new Board({\r\n\t\tcanvas: canvas,\r\n\t\twidth: Math.floor(canvas.width / 16),\r\n\t\theight: Math.floor(canvas.height / 16),\r\n\t\tsize: 16\r\n\t});\r\n});\r\n\r\nfunction removeListeners() {\r\n\t$('.50').off();\r\n\t$('.70').off();\r\n\t$('.100').off();\r\n\t$('.btn-run').off();\r\n\t$('.reset').off();\r\n\t$('.btn-stop').off();\r\n\t$('.cell').off();\r\n\t$('.slow').off();\r\n\t$('.medium').off();\r\n\t$('.fast').off();\r\n};"],"sourceRoot":"/source/"}